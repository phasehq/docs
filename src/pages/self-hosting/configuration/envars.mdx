import { Tag } from '@/components/Tag'
import { HeroPattern } from '@/components/HeroPattern'
import { Deployments } from '@/components/Deployments'

export const description =
  'Overview of Phase Console deployment environment variables'

<HeroPattern />

<Tag variant="small">SELF-HOSTING</Tag>

# Environment variables

Configure your environment variables when self-hosting Phase. {{ className: 'lead' }}

Depending on your self-hosted deployment method, you may need to configure various environment varialbles.
Certain environment variables are required, while others are optional based on your use case.

## Single sign-on (SS0)

In order to authenticate with the Phase Console, you must enable at least one SSO provider.
Enabling an SSO provider requires adding the provider to the list of `SSO_PROVIDERS` as well as providing valid credentials.

### **Providers**

<Properties>
  <Property name="SSO_PROVIDERS" type="string">
    Comma separated list of SSO providers to enable. Options are:
    <ul>
      <li>
        <code>google</code>
      </li>
      <li>
        <code>github</code>
      </li>
      <li>
        <code>gitlab</code>
      </li>
    </ul>
  </Property>
</Properties>

### **Google SSO**

<Properties>
  <Property name="GOOGLE_CLIENT_ID" type="string">
    Google OAuth Client ID
  </Property>
  <Property name="GOOGLE_CLIENT_SECRET" type="string">
    Google OAuth Client secret
  </Property>
</Properties>

### **GitHub SSO**

<Properties>
  <Property name="GITHUB_CLIENT_ID" type="string">
    GitHub OAuth Client ID
  </Property>
  <Property name="GITHUB_CLIENT_SECRET" type="string">
    GitHub OAuth Client secret
  </Property>
</Properties>

### **GitLab SSO**

<Properties>
  <Property name="GITLAB_CLIENT_ID" type="string">
    GitLab OAuth Client ID
  </Property>
  <Property name="GITLAB_CLIENT_SECRET" type="string">
    GitLab OAuth Client secret
  </Property>
</Properties>

## Application secrets

<Properties>
  <Property name="NEXTAUTH_SECRET" type="string">
    A random 32 byte hex string. Can be generated with `openssl rand -hex 32`
  </Property>
  <Property name="SECRET_KEY" type="string">
    A random 32 byte hex string. Can be generated with `openssl rand -hex 32`
  </Property>
</Properties>

## Host configuration

<Properties>
  <Property name="HOST" type="string">
    The hostname where you would like to run Phase. Defaults to `localhost`
  </Property>
  <Property name="HTTP_PROTOTOCL" type="string">
    The url scheme for your host. Defaults to `https://`
  </Property>
</Properties>

## Database configuration

<Properties>
  <Property name="DATABASE_HOST" type="string">
    The database hostname. Defaults to `postgres`. Changing this value is not
    recommended unless you are also modifying the webserver configuration.
  </Property>
  <Property name="DATABASE_NAME" type="string">
    Defaults to `postgres-db-name`
  </Property>
  <Property name="DATABASE_USER" type="string">
    Defaults to `postgres-user`
  </Property>
  <Property name="DATABASE_PASSWORD" type="string">
    A database password is provided by default, but is **highly** recommended to
    change this value.
  </Property>
  <Property name="DATABASE_PORT" type="number">
    Defaults to `5432`
  </Property>
</Properties>

## Debugging

<Properties>
  <Property name="DEBUG" type="string (optional)">
    Allows running the application with "Debug mode" enabled. Provide this
    environment variable with the value `True` to enable this.

    <Warning>
    Never run the application with Debug mode enabled in production!
    </Warning>

  </Property>
</Properties>
